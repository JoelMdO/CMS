(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1154:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var a=s(4752),n=s.n(a);let o=function(e){let t,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";switch(e){case"link":t="Link inserted";break;case"saved":t="Article sent";break;case"auth":t="Welcome!! \n".concat(s);break;default:t="Image uploaded"}n().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:e=>{e.onmouseenter=n().stopTimer,e.onmouseleave=n().resumeTimer}}).fire({icon:"success",title:"".concat(t,"  successfully")})}},2982:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var a=s(4752),n=s.n(a);let o=function(e){let t,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o="Retry";switch(s){case"non200":t="Upload ".concat(e," failed ").concat(a,".");break;case"nonauth":t="Authentication failed ".concat(a,". Please Login again."),o="Close";break;case"logout":t="Attempt to logout failed ".concat(a,".");break;default:t="Error uploading the ".concat(e,": ").concat(a)}n().mixin({toast:!0,position:"center",showConfirmButton:!0,timer:5e3,timerProgressBar:!0,didOpen:e=>{e.onmouseenter=n().stopTimer,e.onmouseleave=n().resumeTimer}}).fire({icon:"error",title:t,showConfirmButton:!0,confirmButtonText:o,confirmButtonColor:"red"})}},6143:(e,t,s)=>{Promise.resolve().then(s.bind(s,9616))},7496:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var a=s(7383);let n=async e=>new Promise((t,s)=>{let a=window.indexedDB.open("imageStore",1);try{a.onsuccess=a=>{let n=a.target.result;if(window.indexedDB||console.error("IndexedDB is not supported by your browser."),!n.objectStoreNames.contains("images")){s({status:205,message:"Object store 'images' not found",file:null});return}let o=n.transaction("images","readonly").objectStore("images").get(e),i=null;o.onsuccess=e=>{e.target.result?(i=e.target.result.data,t({status:200,message:"Image read from the IndexedDB",file:i})):(i=null,s({status:205,message:"Failed to open IndexedDB",file:null}))},o.onerror=()=>({status:205,message:"Error retrieving image",file:null})}}catch(e){return console.error(e),{status:500,message:e}}}),o=async(e,t)=>{let s=new FormData,a=JSON.stringify(t.find(e=>"title"===e.type)),o=JSON.stringify(t.find(e=>"id"===e.type)),i=JSON.stringify(t.find(e=>"body"===e.type)),r=JSON.stringify(t.find(e=>"italic"===e.type)),l=JSON.stringify(t.find(e=>"bold"===e.type));s.append("title",a),s.append("id",o),s.append("article",i),s.append("type",e),s.append("italic",r),s.append("bold",l);let c=t.filter(e=>"image"===e.type).map(async e=>{try{let t=await n(e.fileName);t.file instanceof File&&s.append("image",t.file)}catch(e){}});return await Promise.all(c),s},i=async(e,t)=>{let s=new FormData,n={},i="omit";switch(console.log("callHub called"),e){case"clean-image":s.append("file",t),s.append("type",e);break;case"post":let r=await o(e,t),l=sessionStorage.getItem("sessionId");console.log("sessionId",l),console.log("case Post"),n={...n,Authorization:"Bearer ".concat(l)},s=r,i="include";break;case"logout":s=JSON.stringify({data:"",type:e});let c=sessionStorage.getItem("sessionId");sessionStorage.removeItem("sessionId"),a.A.remove("sessionId"),console.log("sessionIdForLougout",c),n["Content-Type"]="application/json",n={...n,Authorization:"Bearer ".concat(c)};break;default:s=JSON.stringify({data:t,type:e}),n["Content-Type"]="application/json"}try{let e=await fetch("api/hub",{method:"POST",body:s,headers:n,credentials:i}),t=await e.json();if("User authenticated"===t.message){let e=t.sessionId;return{status:t.status,message:"User authenticated",sessionId:e}}if("Data saved successfully"!==t.message)return{status:t.status,message:t.message};{let e=t.body;return{status:t.status,message:"Data saved successfully",body:e}}}catch(e){return{status:500,message:e}}}},9414:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=async()=>{window.location.href="mailto:".concat("joelmontesdeoca@proton.me")}},9616:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var a=s(5155),n=s(2115),o=s(7383),i=s(7496),r=s(1154),l=s(2982),c=s(6766),d=s(9414);let u=()=>(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsxs)("button",{className:"h-[40px] text-black text-[0.60rem] md:text-base font-light rounded flex items-center justify-center md:gap-2 gap-1 mt-4",onClick:()=>{setTimeout(()=>{(0,d.A)()},500)},children:[(0,a.jsx)(c.default,{src:"/byJoel.png",style:{display:"block"},className:"md:w-[160px] md:h-[70px] w-[80px] h-[40px] cursor-pointer",width:90,height:90,alt:"logoJoel"}),(0,a.jsx)("p",{className:"text-xs",children:"2025"})]}),(0,a.jsx)("div",{className:"w-[120px] absolute bottom-full mb-2 left-1/2 -translate-x-1/2 bg-gray-800 text-white py-2 pl-2 rounded-md shadow-md opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:"Let's connect!"})]})}),m=()=>{let[e,t]=(0,n.useState)(""),[s,c]=(0,n.useState)(""),d=async t=>{t.preventDefault();let a=await (0,i.A)("auth",{email:e,password:s});if(200!==a.status){(0,l.A)("auth","","Email or Password incorrect");return}(0,r.A)("auth",a.message);let n=a.sessionId;sessionStorage.setItem("sessionId",n),o.A.set("sessionId",n,{expires:1}),window.location.href="/dashboard"};return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"relative w-full min-h-screen flex flex-col justify-center px-4 sm:px-8 md:px-16",children:[(0,a.jsx)("div",{className:"absolute top-4 right-4",children:(0,a.jsx)(u,{})}),(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[80vh]",children:[(0,a.jsx)("img",{src:"/yourCMS.png",alt:"CMS Title",className:"w-52 h-52 md:w-[18rem] md:h-[15rem] mb-4"}),(0,a.jsx)("h1",{className:"text-2xl font-bold pb-4",children:"Welcome!"}),(0,a.jsxs)("form",{onSubmit:d,className:"flex flex-col align-center items-center space-y-4 border-cyan-200 border-2 rounded-lg p-4 xs:w-[250px] md:w-[360px]",children:[(0,a.jsx)("input",{className:"w-[75%] flex align-center justify-center",type:"email",placeholder:"Email",value:e,onChange:e=>t(e.target.value),required:!0}),(0,a.jsx)("input",{className:"w-[75%] flex align-center justify-center",type:"password",placeholder:"Password",value:s,onChange:e=>c(e.target.value),required:!0}),(0,a.jsx)("button",{type:"submit",className:"bg-green text-white rounded-lg md:w-[170px] h-[30px] w-[120px]",children:"Login"})]})]})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[320,708,441,684,358],()=>t(6143)),_N_E=e.O()}]);